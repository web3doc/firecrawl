---
title: 'Node'
description: 'Firecrawl Node SDK 是 Firecrawl API 的封装，帮助您轻松将网站转换为 markdown。'
icon: 'node'
og:title: "Node SDK | Firecrawl"
og:description: "Firecrawl Node SDK 是 Firecrawl API 的封装，帮助您轻松将网站转换为 markdown。"
---

import InstallationNode from '/snippets/v1/installation/js.mdx'
import ScrapeAndCrawlExampleNode from '/snippets/v1/scrape-and-crawl/js.mdx'
import ScrapeNodeShort from '/snippets/v1/scrape/short/js.mdx'
import CrawlNodeShort from '/snippets/v1/crawl/short/js.mdx'
import CrawlAsyncNodeShort from '/snippets/v1/crawl-async/short/js.mdx'
import CheckCrawlStatusNodeShort from '/snippets/v1/crawl-status/short/js.mdx'
import CancelCrawlNodeShort from '/snippets/v1/crawl-delete/short/js.mdx'
import MapNodeShort from '/snippets/v1/map/short/js.mdx'
import ExtractNodeShort from '/snippets/v1/extract/short/js.mdx'
import CrawlWebSocketNodeBase from '/snippets/v1/crawl-websocket/base/js.mdx'

## 安装

要安装 Firecrawl Node SDK，您可以使用 npm：

<InstallationNode />

## 使用

1. 从 [firecrawl.dev](https://firecrawl.dev) 获取一个 API key。
2. 将 API key 设置为环境变量 `FIRECRAWL_API_KEY` 或将其作为参数传递给 `FirecrawlApp` 类。


以下是一个如何使用 SDK 并处理错误的示例：

<ScrapeAndCrawlExampleNode />

### 抓取 URL

要抓取单个 URL 并处理错误，请使用 `scrapeUrl` 方法。它接受 URL 作为参数，并返回抓取的数据作为字典。

<ScrapeNodeShort />

### 爬取网站

要爬取网站并处理错误，请使用 `crawlUrl` 方法。它接受起始 URL 和可选参数作为参数。`params` 参数允许您指定爬取作业的其他选项，如最大爬取页面数、允许的域名和输出格式。

<CrawlNodeShort />

### 异步爬取

要异步爬取网站，请使用 `crawlUrlAsync` 方法。它返回爬取作业的 `ID`，您可以用它来检查爬取作业的状态。它接受起始 URL 和可选参数作为参数。`params` 参数允许您指定爬取作业的其他选项，如最大爬取页面数、允许的域名和输出格式。

<CrawlAsyncNodeShort />

### 检查爬取状态

要检查爬取作业的状态并处理错误，请使用 `checkCrawlStatus` 方法。它接受 `ID` 作为参数，并返回当前爬取作业的状态。

<CheckCrawlStatusNodeShort />

### 取消爬取

要取消异步爬取作业，请使用 `cancelCrawl` 方法。它接受异步爬取作业的 ID 作为参数，并返回取消状态。

<CancelCrawlNodeShort />

### 映射网站

要映射网站并处理错误，请使用 `mapUrl` 方法。它接受起始 URL 作为参数，并返回映射的数据作为字典。

<MapNodeShort />

{/* ### 从网站提取结构化数据

要从网站提取结构化数据并处理错误，请使用 `extractUrl` 方法。它接受起始 URL 作为参数，并返回提取的数据作为字典。


<ExtractNodeShort /> */}

### 使用 WebSockets 爬取网站

要使用 WebSockets 爬取网站，请使用 `crawlUrlAndWatch` 方法。它接受起始 URL 和可选参数作为参数。`params` 参数允许您指定爬取作业的其他选项，如最大爬取页面数、允许的域名和输出格式。


<CrawlWebSocketNodeBase />

## 错误处理

SDK 处理由 Firecrawl API 返回的错误，并引发适当的异常。如果在请求过程中发生错误，将会引发带有描述性错误消息的异常。上面的示例展示了如何使用 `try/catch` 块处理这些错误。