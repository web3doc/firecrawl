---
title: "高级抓取指南"
description: "学习如何通过高级选项改进您的Firecrawl抓取。"
og:title: "高级抓取指南 | Firecrawl"
og:description: "学习如何通过高级选项改进您的Firecrawl抓取。"
---

本指南将引导您了解Firecrawl的不同端点，以及如何使用其所有参数来充分利用它们。

## 使用Firecrawl进行基础抓取 (/scrape)

要抓取单个页面并获取干净的Markdown内容，您可以使用`/scrape`端点。

<CodeGroup>

```python Python
# pip install firecrawl-py

from firecrawl import FirecrawlApp

app = FirecrawlApp(api_key="YOUR_API_KEY")

content = app.scrape_url("https://docs.firecrawl.dev")
```

```JavaScript JavaScript
// npm install @mendable/firecrawl-js

import { FirecrawlApp } from 'firecrawl-js';

const app = new FirecrawlApp({ apiKey: 'YOUR_API_KEY' });

const content = await app.scrapeUrl('https://docs.firecrawl.dev');
```

```go Go
// go get github.com/mendableai/firecrawl-go

import (
  "fmt"
  "log"

  "github.com/mendableai/firecrawl-go"
)

func main() {
  app, err := firecrawl.NewFirecrawlApp("YOUR_API_KEY")
  if err != nil {
    log.Fatalf("Failed to initialize FirecrawlApp: %v", err)
  }

  content, err := app.ScrapeURL("docs.firecrawl.dev", nil)
  if err != nil {
    log.Fatalf("Failed)
  }
}
```

```rust Rust
// 使用Cargo安装firecrawl_rs crate

use firecrawl_rs::FirecrawlApp;
#[tokio::main]
async fn main() {
  // 使用API密钥初始化FirecrawlApp
  let api_key = "YOUR_API_KEY";
  let api_url = "https://api.firecrawl.dev";
  let app = FirecrawlApp::new(api_key, api_url).expect("Failed to initialize FirecrawlApp");

  let scrape_result = app.scrape_url("https://docs.firecrawl.dev", None).await;
  match scrape_result {
    Ok(data) => println!("Scrape Result:
{}", data["markdown"]),
    Err(e) => eprintln!("Scrape failed: {}", e),
  }
}
```

```bash cURL
curl -X POST https://api.firecrawl.dev/v1/scrape \
    -H 'Content-Type: application/json' \
    -H 'Authorization: Bearer YOUR_API_KEY' \
    -d '{
      "url": "https://docs.firecrawl.dev"
    }'
```

</CodeGroup>

## 抓取PDF文件

**Firecrawl默认支持抓取PDF文件。** 您可以使用`/scrape`端点抓取PDF链接并获取PDF的文本内容。您可以通过设置`parsePDF`为`false`来禁用此功能。

## 抓取选项

在使用`/scrape`端点时，您可以使用许多参数自定义抓取行为。以下是可用的选项：

### 使用`formats`设置响应的内容格式

- **类型**: `数组`
- **枚举**: `["markdown", "links", "html", "rawHtml", "screenshot", "json"]`
- **描述**: 指定要在响应中包含的格式。选项包括：
  - `markdown`: 返回Markdown格式的抓取内容。
  - `links`: 包括页面上找到的所有超链接。
  - `html`: 提供HTML格式的内容。
  - `rawHtml`: 提供未经处理的原始HTML内容。
  - `screenshot`: 包括浏览器中页面显示的截图。
  - `json`: 使用LLM从页面中提取结构化信息。
- **默认**: `["markdown"]`

### 使用`onlyMainContent`获取全页内容的Markdown格式

- **类型**: `布尔值`
- **描述**: 默认情况下，抓取器只会返回页面的主要内容，排除标题、导航栏、页脚等。设置为`false`以返回完整页面内容。
- **默认**: `true`

### 使用`includeTags`设置要包含的标签

- **类型**: `数组`
- **描述**: 指定要在响应中包含的HTML标签、类和ID。
- **默认**: 未定义

### 使用`excludeTags`设置要排除的标签

- **类型**: `数组`
- **描述**: 指定要从响应中排除的HTML标签、类和ID。
- **默认**: 未定义

### 使用`waitFor`等待页面加载

- **类型**: `整数`
- **描述**: 仅在万不得已的情况下使用。等待指定的毫秒数以便页面加载后再抓取内容。
- **默认**: `0`

### 设置最大`timeout`

- **类型**: `整数`
- **描述**: 设置抓取器在放弃操作前等待页面响应的最大时间（毫秒）。
- **默认**: `30000`（30秒）

### 示例用法

```bash
curl -X POST https://api.firecrawl.dev/v1/scrape \
    -H 'Content-Type: application/json' \
    -H 'Authorization : Bearer YOUR_API_KEY' \
    -d '{
      "url": "https://docs.firecrawl.dev",
      "formats": ["markdown", "links", "html", "rawHtml", "screenshot"],
      "includeTags": ["h1", "p", "a", ".main-content"],
      "excludeTags": ["#ad", "#footer"],
      "onlyMainContent": false,
      "waitFor": 1000,
      "timeout": 15000
    }'
```

在此示例中，抓取器将：

- 返回完整的页面内容作为Markdown。
- 包括Markdown、原始HTML、HTML、链接和截图在响应中。
- 响应将仅包含HTML标签`<h1>`, `<p>`, `<a>`, 以及带有类名`.main-content`的元素，同时排除任何带有ID `#ad`和`#footer`的元素。
- 在抓取内容前等待1000毫秒（1秒）。
- 设置抓取请求的最大持续时间为15000毫秒（15秒）。

下面是API参考文档：[Scrape端点文档](https://docs.firecrawl.dev/api-reference/endpoint/scrape)

## 提取选项

在使用`/scrape`端点时，您可以使用`extract`参数指定从页面内容中提取结构化信息的选项。以下是可用的选项：

### 使用LLM提取

### schema

- **类型**: `对象`
- **必需**: 如果提供了prompt则为False
- **描述**: 要提取的数据的模式。这定义了提取数据的结构。


### system prompt

- **类型**: `字符串`
- **必需**: False
- **描述**: LLM的系统提示。

### prompt

- **类型**: `字符串`
- **必需**: 如果提供了schema则为False
- **描述**: 一个提示，用于指导LLM以正确的结构提取数据。
- **示例**: `"Extract the features of the product"`

### 示例用法

```bash
curl -X POST https://api.firecrawl.dev/v0/scrape \
    -H 'Content-Type: application/json' \
    -H 'Authorization: Bearer YOUR_API_KEY' \
    -d '{
      "url": "https://firecrawl.dev",
      "formats": ["markdown", "json"],
      "json": {
        "prompt": "Extract the features of the product"
      }
    }'
```

```json
{
  "success": true,
  "data": {
    "content": "Raw Content",
    "metadata": {
      "title": "Mendable",
      "description": "Mendable allows you to easily build AI chat applications